# –†–µ—à–µ–Ω–∏–µ –≤—Ö–æ–¥–∞ –≤ —Å–∏—Å—Ç–µ–º—É –±–µ–∑ –ø–∞—Ä–æ–ª—è

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ - –¥–∞–Ω–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ Centos 7. –ù–∞ –¥—Ä—É–≥–∏—Ö —Å–∏—Å—Ç–µ–º–∞—Ö –ø–æ —Ä–∞—Å—Å–∫–∞–∑–∞–º –≥—É–≥–ª–∞ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –º–æ–º–µ–Ω—Ç—ã –º–æ–≥—É—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è.

## –í–∞—Ä–∏–∞–Ω—Ç 1 –≤—Ö–æ–¥–∞ –±–µ–∑ –ø–∞—Ä–æ–ª—è 

1. –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ, –≤ –º–æ–º–µ–Ω—Ç –≤—ã–±–æ—Ä–∞ —Å–∏—Å—Ç–µ–º—ã –Ω–∞–∂–∏–º–∞–µ–º 'e', –ø–æ–ø–∞–¥–∞–µ–º –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∑–∞–≥—Ä—É–∑–∫–∏

2. –ù–∞—Ö–æ–¥–∏–º –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö —Å—Ç—Ä–æ–∫—É, –Ω–∞—á–∏–Ω–∞—é—â—É—é—Å—è —Å 'linux16'. –í –¥–∞–Ω–Ω–æ–π —Å—Ç—Ä–æ–∫–µ –æ—Å—Ç–∞–≤–ª—è–µ–º –Ω–∞–∑–≤–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∂–∞–µ–º–æ–≥–æ —è–¥—Ä–∞ –∏ UUID —Ä—É—Ç–æ–≤–æ–≥–æ –¥–∏—Å–∫–∞. –ò–∑ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ –¥–∞–Ω–Ω–æ–π —Å—Ç—Ä–æ–∫–µ –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –≤–∞–∂–Ω—ã–µ, –∞ –≤—Å—é –ø—Ä–æ—á—É—é —à–≤–∞–ª—å —É–±—Ä–∞—Ç—å (–∏–Ω–∞—á–µ –∑–∞–≥—Ä—É–∑–∫–∞ —Å–∏—Å—Ç–µ–º—ã –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω–æ –∏–ª–∏ –≤–∏—Å–Ω–µ—Ç). –ò–∑–º–µ–Ω—è–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ ro –Ω–∞ rw –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã —Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –±—ã–ª–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ –Ω–µ —Ç–æ–ª—å–∫–æ –Ω–∞ —á—Ç–µ–Ω–∏–µ, –Ω–æ –∏ –Ω–∞ –∑–∞–ø–∏—Å—å. 

3. –í –∫–æ–Ω—Ü–µ —Å—Ç—Ä–æ–∫–∏ –¥–æ–±–∞–≤–ª—è–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä single init=/bin/bash (–º–æ–∂–Ω–æ –≤–≤–µ—Å—Ç–∏ –∏ init=/bin/sh, —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±—É–¥–µ—Ç —Ç–µ–º –∂–µ). –î–ª—è –≤—ã—Ö–æ–¥–∞ –∏ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–∞–∂–∏–º–∞–µ–º ctrl-x. –í –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –∑–∞–≥—Ä—É–∑–∫–∞ —Å–∏—Å—Ç–µ–º—ã –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è —Å –ø–æ—è–≤–ª–µ–Ω–∏–µ–º —Å—Ç—Ä–æ–∫–∏ bash-4.2# –∏ –º–æ–∂–Ω–æ –≤–≤–æ–¥–∏—Ç—å –∫–æ–º–∞–Ω–¥—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä —Å–º–µ–Ω—ã –ø–∞—Ä–æ–ª—è.

4. –ï—Å—Ç—å –æ–¥–Ω–∞ —Ç–æ–Ω–∫–æ—Å—Ç—å - –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä SELINUX /etc/selinux/config (–≤ –Ω–æ–≤—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö). –ù—É–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å —Å—Ç—Ä–æ–∫—É SELINUX=enforcing –Ω–∞ SELINUX=disabled. –í –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ –ø–æ—Å–ª–µ —Å–º–µ–Ω—ã –ø–∞—Ä–æ–ª—è –∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –ø–æ–ª—É—á–∏–º –Ω–µ–ø—Ä–∏—è—Ç–Ω—É—é —Å–∏—Ç—É–∞—Ü–∏—é - –ø—Ä–∏ –≤–≤–æ–¥–µ –ª–æ–≥–∏–Ω–∞ –∏ –ø–∞—Ä–æ–ª—è –±—É–¥–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ Login incorrect

	- –ï—Å–ª–∏ SELINUX –µ—â–µ –Ω–µ –≤—ã–∫–ª—é—á–µ–Ω –∏ –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö –∑–∞–≥—Ä—É–∑–∫–∏ –æ—Å—Ç–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä 'ro' (read-only), —Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–≤–µ—Å—Ç–∏ —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã:  
		mount -o remount,rw /  
		rpm --setperms `rpm -qa`  
		passwd  
		Enter new password: (–≤–≤–æ–¥–∏–º –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å)  
		Repeat... (–ø–æ–≤—Ç–æ—Ä—è–µ–º –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å)  
		vi /etc/selinux/config (–º–µ–Ω—è–µ–º SELINUX=enforcing –Ω–∞ SELINUX=disabled)  
		sync  
		mount -o remount,ro /  

	- –ï—Å–ª–∏ SELINUX  —É–∂–µ –≤—ã–∫–ª—é—á–µ–Ω —Ä–∞–Ω–µ–µ –∏ –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö –∑–∞–≥—Ä—É–∑–∫–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä 'ro' –∑–∞–º–µ–Ω–µ–Ω –Ω–∞ 'rw', —Ç–æ –¥–ª—è —Å–º–µ–Ω—ã –ø–∞—Ä–æ–ª—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥—ã:  
		passwd  
		Enter new password: (–≤–≤–æ–¥–∏–º –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å)  
		Repeat... (–ø–æ–≤—Ç–æ—Ä—è–µ–º –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å)  

5. –ï—Å–ª–∏ –≤—ã–π—Ç–∏ –∫–æ–º–∞–Ω–¥–æ–π exit, —Ç–æ —Å–∏—Å—Ç–µ–º–∞ –ø–æ–¥–≤–∏—Å–∞–µ—Ç. –ü—Ä–∏—á–∏–Ω—É –Ω–µ –Ω–∞—à–µ–ª. –ì—É–≥–ª—å –≥–æ–≤–æ—Ä–∏—Ç —Å–ª–µ–¥—É—é—â–µ–µ: "... –∏ –∑–∞—Ç–µ–º –æ—Ç–∫–ª—é—á–∏—Ç–µ –ø–∏—Ç–∞–Ω–∏–µ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞/–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–π –∫–Ω–æ–ø–∫–æ–π." (https://hackware.ru/?p=3801)

## –í–∞—Ä–∏–∞–Ω—Ç 2 –≤—Ö–æ–¥–∞ –±–µ–∑ –ø–∞—Ä–æ–ª—è

1. –í—ã–ø–æ–ª–Ω—è–µ–º –ø.1 –∏ –ø.2 –≤–∞—Ä–∏–∞–Ω—Ç–∞ 1

2. –í –∫–æ–Ω—Ü–µ —Å—Ç—Ä–æ–∫–∏ –¥–æ–±–∞–≤–ª—è–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä rd.break. –î–ª—è –≤—ã—Ö–æ–¥–∞ –∏ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–∞–∂–∏–º–∞–µ–º ctrl-x. –í –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –∑–∞–≥—Ä—É–∑–∫–∞ —Å–∏—Å—Ç–µ–º—ã –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è —Å –ø–æ—è–≤–ª–µ–Ω–∏–µ–º —Å—Ç—Ä–æ–∫–∏ switch_root:/#. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–≤–µ—Å—Ç–∏ —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É:  
		chroot /sysroot  

3. –ü–æ—è–≤–∏—Ç—Å—è —Å—Ç—Ä–æ–∫–∞ sh-4.2# –∏ –º–æ–∂–Ω–æ –≤–≤–æ–¥–∏—Ç—å –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —Å–º–µ–Ω—ã –ø–∞—Ä–æ–ª—è:  
		passwd  
		Enter new password: (–≤–≤–æ–¥–∏–º –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å)  
		Repeat... (–ø–æ–≤—Ç–æ—Ä—è–µ–º –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å)  

4. –í—ã–ø–æ–ª–Ω—è–µ–º –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫—É  
		exit  
		reboot  

–í–∞—Ä–∏–∞–Ω—Ç 3 –≤—Ö–æ–¥–∞ –±–µ–∑ –ø–∞—Ä–æ–ª—è

1. –í—ã–ø–æ–ª–Ω—è–µ–º –ø.1 –∏ –ø.2 –≤–∞—Ä–∏–∞–Ω—Ç–∞ 1

2. –í –∫–æ–Ω—Ü–µ —Å—Ç—Ä–æ–∫–∏ –¥–æ–±–∞–≤–ª—è–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä init=/sysroot/bin/sh. –î–ª—è –≤—ã—Ö–æ–¥–∞ –∏ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–∞–∂–∏–º–∞–µ–º ctrl-x. –í –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –∑–∞–≥—Ä—É–∑–∫–∞ —Å–∏—Å—Ç–µ–º—ã –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è —Å –ø–æ—è–≤–ª–µ–Ω–∏–µ–º —Å—Ç—Ä–æ–∫–∏ :/#. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–≤–µ—Å—Ç–∏ —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É:  
		chroot /sysroot  

3. —Å—Ç—Ä–æ–∫–∞ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è —Ç–∞–∫–æ–π –∂–µ :/#, –Ω–æ —É–∂–µ –º–æ–∂–Ω–æ –≤–≤–æ–¥–∏—Ç—å –∫–æ–º–∞–Ω–¥—É –¥–ª—è —Å–º–µ–Ω—ã –ø–∞—Ä–æ–ª—è:  
		passwd  
		Enter new password: (–≤–≤–æ–¥–∏–º –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å)  
		Repeat... (–ø–æ–≤—Ç–æ—Ä—è–µ–º –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å)  

4. –í—ã–ø–æ–ª–Ω—è–µ–º –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫—É  
		exit  
		reboot  


# –†–µ—à–µ–Ω–∏–µ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞–Ω–∏—è Volume Group –≤ LVM

1. –†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ–º –≤–∏—Ä—Ç—É–∞–ª–∫—É —Å –î–ó-3 (–§–∞–π–ª–æ–≤—ã–µ —Å–∏—Å—Ç–µ–º—ã –∏ LVM)

2. –û—Ç–∫–ª—é—á–∞–µ–º —Ä–µ–∂–∏–º SELINUX –∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º
		vi /etc/selinux/config (–º–µ–Ω—è–µ–º SELINUX=enforcing –Ω–∞ SELINUX=disabled)  

3.  –ü–æ—Å–º–æ—Ç—Ä–∏–º —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ Volume Group
		[root@lvm vagrant]# vgs
	VG         #PV #LV #SN Attr   VSize   VFree
	VolGroup00   1   2   0 wz--n- <38.97g    0 

4. –ü–µ—Ä–µ–∏–º–µ–Ω—É–µ–º Volume Group
		[root@lvm vagrant]# vgrename VolGroup00 OtusRoot
	Volume group "VolGroup00" successfully renamed to "OtusRoot"

5. –ò–∑–º–µ–Ω–∏–º –∑–Ω–∞—á–µ–Ω–∏–µ VolGroup00 –Ω–∞ OtusRoot –≤ —Ñ–∞–π–ª–µ /etc/fstab
		[root@lvm vagrant]# vi /etc/fstab
		[root@lvm vagrant]# cat  /etc/fstab
	#
	# /etc/fstab
	# Created by anaconda on Sat May 12 18:50:26 2018
	#
	# Accessible filesystems, by reference, are maintained under '/dev/disk'
	# See man pages fstab(5), findfs(8), mount(8) and/or blkid(8) for more info
	#
	/dev/mapper/OtusRoot-LogVol00 /                       xfs     defaults        0 0
	UUID=570897ca-e759-4c81-90cf-389da6eee4cc /boot                   xfs     defaults        0 0
	/dev/mapper/OtusRoot-LogVol01 swap                    swap    defaults        0 0
	[root@lvm vagrant]# 

6. –ò–∑–º–µ–Ω–∏–º –∑–Ω–∞—á–µ–Ω–∏–µ VolGroup00 –Ω–∞ OtusRoot –≤ —Ñ–∞–π–ª–µ /etc/default/grub
		[root@lvm vagrant]# vi /etc/default/grub
		[root@lvm vagrant]# cat /etc/default/grub
	GRUB_TIMEOUT=1
	GRUB_DISTRIBUTOR="$(sed 's, release .*$,,g' /etc/system-release)"
	GRUB_DEFAULT=saved
	GRUB_DISABLE_SUBMENU=true
	GRUB_TERMINAL_OUTPUT="console"
	GRUB_CMDLINE_LINUX="no_timer_check console=tty0 console=ttyS0,115200n8 net.ifnames=0 biosdevname=0 elevator=noop crashkernel=auto rd.lvm.lv=OtusRoot/LogVol00 rd.lvm.lv=OtusRoot/LogVol01 rhgb quiet"
	GRUB_DISABLE_RECOVERY="true"

7. –ò–∑–º–µ–Ω–∏–º –∑–Ω–∞—á–µ–Ω–∏–µ VolGroup00 –Ω–∞ OtusRoot –≤ —Ñ–∞–π–ª–µ /boot/grub2/grub.cfg
		[root@lvm vagrant]# vi /boot/grub2/grub.cfg
		[root@lvm vagrant]# cat /boot/grub2/grub.cfg
	#
	# DO NOT EDIT THIS FILE
	#
	# It is automatically generated by grub2-mkconfig using templates
	# from /etc/grub.d and settings from /etc/default/grub
	#
	...
	### BEGIN /etc/grub.d/10_linux ###
	menuentry 'CentOS Linux (3.10.0-862.2.3.el7.x86_64) 7 (Core)' --class centos --class gnu-linux --class gnu --class os --unrestricted $menuentry_id_option 'gnulinux-3.10.0-862.2.3.el7.x86_64-advanced-b60e9498-0baa-4d9f-90aa-069048217fee' {
		load_video
		set gfxpayload=keep
		insmod gzio
		insmod part_msdos
		insmod xfs
		set root='hd0,msdos2'
		if [ x$feature_platform_search_hint = xy ]; then
		  search --no-floppy --fs-uuid --set=root --hint='hd0,msdos2'  570897ca-e759-4c81-90cf-389da6eee4cc
		else
		  search --no-floppy --fs-uuid --set=root 570897ca-e759-4c81-90cf-389da6eee4cc
		fi
		linux16 /vmlinuz-3.10.0-862.2.3.el7.x86_64 root=/dev/mapper/OtusRoot-LogVol00 ro no_timer_check console=tty0 console=ttyS0,115200n8 net.ifnames=0 biosdevname=0 elevator=noop crashkernel=auto rd.lvm.lv=OtusRoot/LogVol00 rd.lvm.lv=OtusRoot/LogVol01 rhgb quiet 
		initrd16 /initramfs-3.10.0-862.2.3.el7.x86_64.img
	}
	if [ "x$default" = 'CentOS Linux (3.10.0-862.2.3.el7.x86_64) 7 (Core)' ]; then default='Advanced options for CentOS Linux>CentOS Linux (3.10.0-862.2.3.el7.x86_64) 7 (Core)'; fi;
	### END /etc/grub.d/10_linux ###
	...

8. –ü–µ—Ä–µ—Å–æ–∑–¥–∞–µ–º initrd image, —á—Ç–æ–±—ã –æ–Ω –∑–Ω–∞–ª –Ω–æ–≤–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ Volume Group
		[root@lvm vagrant]# mkinitrd -f -v /boot/initramfs-$(uname -r).img $(uname -r)
	Executing: /sbin/dracut -f -v /boot/initramfs-3.10.0-862.2.3.el7.x86_64.img 3.10.0-862.2.3.el7.x86_64
	...
	*** Creating image file ***
	*** Creating image file done ***
	*** Creating initramfs image file '/boot/initramfs-3.10.0-862.2.3.el7.x86_64.img' done ***

9. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º—Å—è –∏ –ø—Ä–æ–≤–µ—Ä—è–µ–º –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ Volume Group
		[root@lvm vagrant]# vgs
	VG       #PV #LV #SN Attr   VSize   VFree
	OtusRoot   1   2   0 wz--n- <38.97g    0 




	------------------------------------------------------------------------------------------------
	[
	# Created by anaconda on Sat May 12 18:50:26 2018
	#
	# Accessible filesystems, by reference, are maintained under '/dev/disk'
	# See man pages fstab(5), findfs(8), mount(8) and/or blkid(8) for more info
	#
	/dev/mapper/VolGroup00-LogVol00 /                       xfs     defaults        0 0
	UUID=570897ca-e759-4c81-90cf-389da6eee4cc /boot                   xfs     defaults        0 0

	0 0v/mapper/VolGroup00-LogVol01 swap                    swap    defaults        ~       


	[vagrant@lvm ~]$ ls /home
	vagrant
	[vagrant@lvm ~]$ -t vboxsf
	bash: -t: command not found
	[vagrant@lvm ~]$ more cat typescript
	cat: No such file or directory
	[vagrant@lvm ~]$ ls
	typescript
	[vagrant@lvm ~]$ more typescript
	Script started on Sun 08 Dec 2019 06:32:05 PM UTC
	[vagrant@lvm ~]$ 
	[vagrant@lvm ~]$ 
	[vagrant@lvm ~]$ vgs
	  WARNING: Running as a non-root user. Functionality may be unavailable.
	  /run/lvm/lvmetad.socket: access failed: Permission denied
	  WARNING: Failed to connect to lvmetad. Falling back to device scanning.
	  /dev/mapper/control: open failed: Permission denied
	  Failure to communicate with kernel device-mapper driver.
	  Incompatible libdevmapper 1.02.146-RHEL7 (2018-01-22) and kernel driver (unkno
	wn version).
	[vagrant@lvm ~]$ sudo su
	[root@lvm vagrant]# 
	[root@lvm vagrant]# 
	[root@lvm vagrant]# vgs
	  VG         #PV #LV #SN Attr   VSize   VFree
	  VolGroup00   1   2   0 wz--n- <38.97g    0 
	[root@lvm vagrant]# 
	[root@lvm vagrant]# 
	[root@lvm vagrant]# vgrename VolGroup00 OtusRoot
	  Volume group "VolGroup00" successfully renamed to "OtusRoot"
	[root@lvm vagrant]# 
	[root@lvm vagrant]# 
	[root@lvm vagrant]# vi /etc/fstab
	[root@lvm vagrant]# vi /etc/fstab
	cat /etc/fstab

	#
	# /etc/fstab
	# Created by anaconda on Sat May 12 18:50:26 2018
	#
	# Accessible filesystems, by reference, are maintained under '/dev/disk'
	# See man pages fstab(5), findfs(8), mount(8) and/or blkid(8) for more info
	#
	/dev/mapper/OtusRoot-LogVol00 /                       xfs     defaults        0 
	0
	UUID=570897ca-e759-4c81-90cf-389da6eee4cc /boot                   xfs     defaul
	ts        0 0


	GRUB_TIMEOUT=1
	GRUB_DISTRIBUTOR="$(sed 's, release .*$,,g' /etc/system-release)"
	GRUB_DEFAULT=saved
	GRUB_DISABLE_SUBMENU=true
	GRUB_TERMINAL_OUTPUT="console"
	GRUB_CMDLINE_LINUX="no_timer_check console=tty0 console=ttyS0,115200n8 net.ifnam
	es=0 biosdevname=0 elevator=noop crashkernel=auto rd.lvm.lv=OtusRooVlGroup00LogV[?2--More--m.lv=VolGroup00/LogVol01 rhgb quiet"
	.lvm.lv=VolGroup00/LogVol01 rhgb quiet"
	~                                                                           
	~                                                                     
	~                                                               
	~                                                         
	~                                                   
	~                                             
	~                                       
	~                                       
	~                                             
	~                                                   
	~                                                         
	~                                                               
	~                                                                     
	~                                                                             
	-- INSERT --

	#
	# DO NOT EDIT THIS FILE
	#
	# It is automatically generated by grub2-mkconfig using templates
	--More--

















	"/boot/grub2/grub.cfg"
	 127L, 3607C

	### BEGIN /etc/grub.d/00_header ###
	set pager=1

	if [ -s $prefix/grubenv ]; then
	  load_env
	fi
	if [ "${next_entry}" ] ; then
	   set default="${next_entry}"
	   set next_entry=
	   save_env next_entry
	   set boot_once=true
	else
	   set default="${saved_entry}"
	fi

	if [ x"${feature_menuentry_id}" = xy ]; then
	  menuentry_id_option="--id"
	else
	  menuentry_id_option=""
	fi

	export menuentry_id_option

		insmod video_bochs
		insmod video_cirrus
	  fi
	}

	terminal_output console
	if [ x$feature_timeout_style = xy ] ; then
	  set timeout_style=menu
	  set timeout=1
	# Fallback normal timeout code in case the timeout_style feature is
	# unavailable.
	else
	  set timeout=1
	fi
	### END /etc/grub.d/00_header ###

	### BEGIN /etc/grub.d/00_tuned ###
	set tuned_params=""
	set tuned_initrd=""
	### END /etc/grub.d/00_tuned ###

	### BEGIN /etc/grub.d/01_users ###

			set root='hd0,msdos2'
			if [ x$feature_platform_search_hint = xy ]; then
			  search --no-floppy --fs-uuid --set=root --hint='hd0,
	e759-4c81-90cf-389da6eee4cc
			else
			  search --no-floppy --fs-uui
	eee4cct=root 570897ca-e759-4c81-90cf-389da66
			fi
			linux16 /vmlinuz-3.10.0-862.
	ogVol00 ro no_timer_check coner/VolGroup00-LL
	devname=0 elevator=noo0,115200n8 net.ifnames=0 bioss
	=VolGroup00/Loguto rd.lvm.lv=VolGroup00/LogVol00 rd.lvm.lvv
			initrd16 /initramfs-3.10.0-862.2.3.el7.x86_64.img
	}
	if [ "x$default" = 'CentOS 
	efault='Advanced opt3.el7.x86_64) 7 (Core)' ]; then dd
	4) 7 (Core)';OS Linux>CentOS Linux (3.10.0-862.2.3.el7.x86_66
	 fi;

	### BEGIN /etc/grub.d/20_linux_xen ###
	### END /etc/grub.d/20_linux_xen ###

	--More--
	### END /etc/grub.d/10_linux ###-90aa-069048217fee' {
	if [ "x$default" = 'CentOS 
	efault='Advanced opt3.el7.x86_64) 7 (Core)' ]; then dd
	4) 7 (Core)';OS Linux>CentOS Linux (3.10.0-862.2.3.el7.x86_66
	 fi;

	### BEGIN /etc/grub.d/20_linux_xen ###
	### END /etc/grub.d/20_linux_xen ###

	### BEGIN /etc/grub.d/20_ppc_terminfo ###

	### END /etc/grub.d/20_ppc_terminfo ###

	### BEGIN /etc/grub.d/30_os
	-prober ###

	### BEGIN /etc/grub.d/40_cu
	stom ###
	# This file provides an easy way to add custom menu entries.  Simply type the
	# menu entries you want to add after this comment.  Be careful not t
	# the 'exec tail' line above.
	--More--


	o change

	[root@lvm vagrant]# vi /etc/fstab
	cat /etc/fstab

	#
	# /etc/fstab
	# Created by anaconda on Sat May 12 18:50:26 2018
	#
	# Accessible filesystems, by reference, are maintained under '/dev/disk'
	# See man pages fstab(5), findfs(8), mount(8) and/or blkid(8) for more info
	#
	/dev/mapper/OtusRoot-LogVol00 /                       xfs     defaults        0 
	0
	UUID=570897ca-e759-4c81-90cf-389da6eee4cc /boot                   xfs     defaul
	ts        0 0
	[root@lvm vagrant]# vi  /boot/grup                    swap    defaults        0 
	b2/grub.cfg         cat

	#
	# DO NOT EDIT THIS FILE
	#
	# It is automatically generated by grub2-mkconfig using templates
	# from /etc/grub.d and settings from /etc/default/grub
	#

	### BEGIN /etc/grub.d/00_header ###
	set pager=1

	if [ -s $prefix/grubenv ]; then
	  load_env
	fi
	if [ "${next_entry}" ] ; then
	   set default="${next_entry}"
	   set next_entry=
	   save_env next_entry
	   set boot_once=true
	else
	   set default="${saved_entry}"
	fi

	if [ x"${feature_menuentry_id}" = xy ]; then
	  menuentry_id_option="--id"
	else
	  menuentry_id_option=""
	fi

	export menuentry_id_option

	if [ "${prev_saved_entry}" ]; then
	  set saved_entry="${prev_saved_entry}"
	  save_env saved_entry
	  set prev_saved_entry=
	  save_env prev_saved_entry
	  set boot_once=true
	fi

	function savedefault {
	  if [ -z "${boot_once}" ]; then
		saved_entry="${chosen}"
		save_env saved_entry
	  fi
	}

	function load_video {
	  if [ x$feature_all_video_module = xy ]; then
		insmod all_video
	  else
		insmod efi_gop
		insmod efi_uga
		insmod ieee1275_fb
		insmod vbe
		insmod vga
		insmod video_bochs
		insmod video_cirrus
	  fi
	}

	terminal_output console
	if [ x$feature_timeout_style = xy ] ; then
	  set timeout_style=menu
	  set timeout=1
	# Fallback normal timeout code in case the timeout_style feature is
	# unavailable.
	else
	  set timeout=1
	fi
	### END /etc/grub.d/00_header ###

	### BEGIN /etc/grub.d/00_tuned ###
	set tuned_params=""
	set tuned_initrd=""
	### END /etc/grub.d/00_tuned ###

	### BEGIN /etc/grub.d/01_users ###
	if [ -f ${prefix}/user.cfg ]; then
	  source ${prefix}/user.cfg
	  if [ -n "${GRUB2_PASSWORD}" ]; then
		set superusers="root"
		export superusers
		password_pbkdf2 root ${GRUB2_PASSWORD}
	  fi
	fi
	### END /etc/grub.d/01_users ###

	### BEGIN /etc/grub.d/10_linux ###
	menuentry 'CentOS Linux (3.10.0-862.2.3.el7.x86_64) 7 (Core)' --class centos --c
	lass gnu-linux --class gnu --class os --unrestricted $menuentry_id_option 'gnuli
	nux-3.10.0-862.2.3.el7.x86_64-advanced-b60e9498-0baa-4d9f-90aa-069048217fee' {
		load_video
		set gfxpayload=keep
		insmod gzio
		insmod part_msdos
		insmod xfs
		set root='hd0,msdos2'
		if [ x$feature_platform_search_hint = xy ]; then
		  search --no-floppy --fs-uuid --set=root --hint='hd0,msdos2'  570897ca-
	e759-4c81-90cf-389da6eee4cc
		else
		  search --no-floppy --fs-uuid --set=root 570897ca-e759-4c81-90cf-389da6
	eee4cc
		fi
		linux16 /vmlinuz-3.10.0-862.2.3.el7.x86_64 root=/dev/mapper/VolGroup00-L
	ogVol00 ro no_timer_check console=tty0 console=ttyS0,115200n8 net.ifnames=0 bios
	devname=0 elevator=noop crashkernel=auto rd.lvm.lv=OtusRoot/LogVol00 rd.lvm.lv=O
	tusRoot/LogVol01 rhgb quiet 
		initrd16 /initramfs-3.10.0-862.2.3.el7.x86_64.img
	}
	if [ "x$default" = 'CentOS Linux (3.10.0-862.2.3.el7.x86_64) 7 (Core)' ]; then d
	efault='Advanced options for CentOS Linux>CentOS Linux (3.10.0-862.2.3.el7.x86_6
	4) 7 (Core)'; fi;
	### END /etc/grub.d/10_linux ###

	### BEGIN /etc/grub.d/20_linux_xen ###
	### END /etc/grub.d/20_linux_xen ###

	### BEGIN /etc/grub.d/20_ppc_terminfo ###
	### END /etc/grub.d/20_ppc_terminfo ###

	### BEGIN /etc/grub.d/30_os-prober ###
	### END /etc/grub.d/30_os-prober ###

	### BEGIN /etc/grub.d/40_custom ###
	# This file provides an easy way to add custom menu entries.  Simply type the
	# menu entries you want to add after this comment.  Be careful not to change
	# the 'exec tail' line above.
	### END /etc/grub.d/40_custom ###

	### BEGIN /etc/grub.d/41_custom ###
	if [ -f  ${config_directory}/custom.cfg ]; then
	  source ${config_directory}/custom.cfg
	elif [ -z "${config_directory}" -a -f  $prefix/custom.cfg ]; then
	  source $prefix/custom.cfg;
	fi
	### END /etc/grub.d/41_custom ###
	[root@lvm vagrant]# 
	[root@lvm vagrant]# 
	[root@lvm vagrant]# 
	[root@lvm vagrant]# mkinitrd -f -v /boot/initramfs-$(uname
	 -r).img $(uname -r)
	Executing: /sbin/dracut -f -v /boot/initramfs-3.10.0-862.2.3.el7.x86_64.img 3.10
	.0-862.2.3.el7.x86_64
	dracut module 'busybox' will not be installed, because command 'busybox' could n
	ot be found!
	dracut module 'crypt' will not be installed, because command 'cryptsetup' could 
	not be found!
	dracut module 'dmraid' will not be installed, because command 'dmraid' could not
	 be found!
	dracut module 'dmsquash-live-ntfs' will not be installed, because command 'ntfs-
	3g' could not be found!
	dracut module 'multipath' will not be installed, because command 'multipath' cou
	ld not be found!
	dracut module 'busybox' will not be installed, because command 'busybox' could n
	ot be found!
	dracut module 'crypt' will not be installed, because command 'cryptsetup' could 
	not be found!
	dracut module 'dmraid' will not be installed, because command 'dmraid' could not
	 be found!
	dracut module 'dmsquash-live-ntfs' will not be installed, because command 'ntfs-
	3g' could not be found!
	dracut module 'multipath' will not be installed, because command 'multipath' cou
	ld not be found!
	*** Including module: bash ***
	*** Including module: nss-softokn ***
	*** Including module: i18n ***
	*** Including module: drm ***
	*** Including module: plymouth ***
	*** Including module: dm ***
	Skipping udev rule: 64-device-mapper.rules
	Skipping udev rule: 60-persistent-storage-dm.rules
	-Skipping udev rule: 55-dm.rules
	*** Including module: kernel-modules ***
	Omitting driver floppy
	*** Including module: lvm ***
	Skipping udev rule: 64-device-mapper.rules
	Skipping udev rule: 56-lvm.rules
	Skipping udev rule: 60-persistent-storage-lvm.rules
	*** Including module: qemu ***
	*** Including module: resume ***
	*** Including module: rootfs-block ***
	*** Including module: terminfo ***
	*** Including module: udev-rules ***
	Skipping udev rule: 40-redhat-cpu-hotplug.rules
	Skipping udev rule: 91-permissions.rules
	*** Including module: biosdevname ***
	*** Including module: systemd ***
	*** Including module: usrmount ***
	*** Including module: base ***
	*** Including module: fs-lib ***
	*** Including module: shutdown ***
	*** Including modules done ***
	*** Installing kernel module dependencies and firmware ***
	*** Installing kernel module dependencies and firmware done ***
	*** Resolving executable dependencies ***
	*** Resolving executable dependencies done***
	*** Hardlinking files ***
	*** Hardlinking files done ***
	*** Stripping files ***
	*** Stripping files done ***
	*** Generating early-microcode cpio image contents ***
	*** No early-microcode cpio image needed ***
	*** Store current command line parameters ***
	*** Creating image file ***
	*** Creating image file done ***
	*** Creating initramfs image file '/boot/initramfs-3.10.0-862.2.3.el7.x86_64.img
	' done ***
	[root@lvm vagrant]# exit
	[vagrant@lvm ~]$ 
	[vagrant@lvm ~]$ 
	[vagrant@lvm ~]$ 
	[vagrant@lvm ~]$ 
	[vagrant@lvm ~]$ 
	[vagrant@lvm ~]$ 
	[vagrant@lvm ~]$ 
	[vagrant@lvm ~]$ 
	[vagrant@lvm ~]$ ls

	#
	# /etc/fstab
	# Created by anaconda on Sat May 12 18:50:26 2018
	#
	# Accessible filesystems, by reference, are maintained under '/dev/disk'
	# See man pages fstab(5), findfs(8), mount(8) and/or blkid(8) for more info
	#
	/dev/mapper/VolGroup00-LogVol00 /                       xfs     defaults        0 0
	UUID=570897ca-e759-4c81-90cf-389da6eee4cc /boot                   xfs     defaults        0 0

	0 0v/mapper/VolGroup00-LogVol01 swap                    swap    defaults        ~                                                                           
	~                                                                     
	~                                                               
	~                                                         
	~                                                   
	--More--


	"/etc/fstab" 11L, 481C


	#
	# /etc/fstab
	# Created by anaconda on Sat May 12 18:50:26 2018
	#
	# Accessible filesystems, by reference, are maintained under '/dev/disk'
	# See man pages fstab(5), findfs(8), mount(8) and/or blkid(8) for more info
	#
	--More--per/VolGroup00-LogVol00 /                       xfs     defaults        0 0
	UUID=570897ca-e759-4c81-90cf-389da6eee4cc /boot                   xfs     defaults        0 0

	0 0v/mapper/VolGroup00-LogVol01 swap                    swap    defaults        ~                                                                           
	~                                                                     
	~                                                               
	~                                                         
	~                                                   
	~                                             
	~                                       
	~                                       
	~                                             
														
	-- INSERT --





	--------------------------------------------------------------------------------------
